<!DOCTYPE html>
<html>
    <head>
        <title>My project page</title>
        <link rel="stylesheet" href="basic-styles.css" />
        <link rel="stylesheet" href="menu-bars.css" />
        <link rel="stylesheet" href="sliders.css" />
    </head>
    
    <body class="basic"></body>
        <!-- vertical menu bar -->
        <div class="vertical-menu">
            <div class="logo">
            <a>A</a>
            </div>
            <div class="vertical-menu-text">
                <a>Home page</a>
                <a>Visitors posts</a>
                <a>Gallery</a>
            </div>
        </div>
        <!-- sound buttons -->
        <div id="sound-menu-id" class="volume" style="bottom: 60px">
            <input id="sound-id" type="range" min="0" max="10" value="5">
            <a href="javascript:changeSoundMenu()">S</a>
        </div>

        <div id="music-menu-id" class="volume" style="bottom: 10px">
            <input id="music-id" type="range" min="0" max="10" value="5">
            <a href="javascript:changeMusicMenu()">M</a>
        </div>

        <!-- information menu -->
        <div id="info-menu-id" class="info-menu">
            <h1></h1>
            <div>
                <img src="star.png" alt="star">
            </div>
            
            <div class="info-menu-text">
                <p>This information about kgvhbjioygtfgvhbnjij yggbhnji huyghbn johuiyg 56787 86789876t789 ijhbgvhuijk lmkhbgju ioklm jhbnk kiohuybjnjkm</p>
                <p>This information about kgvhbjioygtfgvhbnjij yggbhnji huyghbn johuiyg 56787 86789876t789 ijhbgvhuijk lmkhbgju ioklm jhbnk kiohuybjnjkm</p>
                <p>This information about kgvhbjioygtfgvhbnjij yggbhnji huyghbn johuiyg 56787 86789876t789 ijhbgvhuijk lmkhbgju ioklm jhbnk kiohuybjnjkm</p>
                <p>This information about kgvhbjioygtfgvhbnjij yggbhnji huyghbn johuiyg 56787 86789876t789 ijhbgvhuijk lmkhbgju ioklm jhbnk kiohuybjnjkm</p>
                <p>This information about kgvhbjioygtfgvhbnjij yggbhnji huyghbn johuiyg 56787 86789876t789 ijhbgvhuijk lmkhbgju ioklm jhbnk kiohuybjnjkm</p>
                <p>dfgkebdhjfhdjko wejfhwefkjgsdfjskjfhdjsklfndhjgds fn gndfkjg fgkdf gkdfng</p>
            </div>
        </div>
        <div class="info-menu-bar">
            <span class="menu-bar-text">Information page</span>
            <a href="javascript:changeMenuState()" class="menu-bar-close">=</a>
        </div>

        <!-- chat menu -->
        <div id="chat-menu-id" class="chat-menu">
            <div class="chat-stream">
                <p>This information about kgvhbjioygtfgvhbnjij yggbhnji huyghbn johuiyg 56787 86789876t789 ijhbgvhuijk lmkhbgju ioklm jhbnk kiohuybjnjkm</p>
                <p>This information about kgvhbjioygtfgvhbnjij yggbhnji huyghbn johuiyg 56787 86789876t789 ijhbgvhuijk lmkhbgju ioklm jhbnk kiohuybjnjkm</p>
                <p>This information about kgvhbjioygtfgvhbnjij yggbhnji huyghbn johuiyg 56787 86789876t789 ijhbgvhuijk lmkhbgju ioklm jhbnk kiohuybjnjkm</p>
                <p>This information about kgvhbjioygtfgvhbnjij yggbhnji huyghbn johuiyg 56787 86789876t789 ijhbgvhuijk lmkhbgju ioklm jhbnk kiohuybjnjkm</p>
            </div>
            <div class="chat-bar">
                <input value>
                <a id="themes-choiced-id" href="javascript:changeThemesMenuState()">T</a>
            </div>
        </div>
        <div id="themes-menu-id" class="themes">
            <a>Theme Basic</a>
            <a>Theme+</a>
            <a>A</a>
            <a>B</a>
            <a>C</a>
            <a>D</a>
            <a>E</a>
            <a>F</a>
            <a>G</a>
            <a>H</a>
        </div>
        <div id="chat-menu-close-id" class="chat-menu-bar">
            <span class="menu-bar-text">Tiny chat</span>
            <a href="javascript:changeChatState()" class="menu-bar-close">=</a>
        </div>
        
        <audio id="audio-id" style="display: none;"></audio>

        <!-- javascript -->
        <script type="text/javascript">
            class Properties {
                constructor() {
                    this.soundVolume = document.getElementById("sound-id").value / 10.0;
                    this.musicVolume = document.getElementById("music-id").value / 10.0;
                }
                getSoundVolume() { return this.soundVolume; }
                getMusicVolume() { return this.musicVolume; }
                setSoundVolume(soundVolume) { this.soundVolume = soundVolume / 10.0; }
                setMusicVolume(musicVolume) { this.musicVolume = musicVolume / 10.0; }
            };
            const AudioTrack = {
                CLICK: "CLICK",
                OTHER: "NOTHING"
            };

            const properties = new Properties();

            window.onload = function prepare() {
                // src="./ObservingTheStar.opus" style="display: none;" loop="true" autoplay
                const audio = document.getElementById("audio-id");
                audio.src = "./ObservingTheStar.opus";
                audio.volume = document.getElementById("music-id").value / 10.0;
                audio.loop = "true";
                audio.play();
            }
                // const properties = new Properties();
                // const soundSlider = document.getElementById("sound-id"); // sound slider
                // properties.setSoundVolume(soundSlider.value);
                // const musicSlider = document.getElementById("music-id"); // music slider
                // properties.setMusicVolume(musicSlider.value);

                // const audio = document.getElementById("audio-id");
                // audio.volume = properties.getMusicVolume();

                // console.log("sound volume: ", properties.getSoundVolume());
                // console.log("music volume: ", properties.getMusicVolume());
                // return properties;
            // }
            // const properties = window.onload;
            // properties.getAudio().volume = properties.getMusicVolume();

            const soundSlider = document.getElementById("sound-id");
            soundSlider.oninput = function() {
                properties.setSoundVolume(soundSlider.value);
                console.log(properties.getSoundVolume()); // logs
            }
            const musicSlider = document.getElementById("music-id");
            musicSlider.oninput = function() {
                properties.setMusicVolume(musicSlider.value);
                console.log(properties.getMusicVolume()); // logs

                const music = document.getElementById("audio-id");
                music.volume = properties.getMusicVolume();
            }

            function playSound(audioTrack) {
                const sound = new Audio();
                switch (audioTrack) {
                    case AudioTrack.CLICK: sound.src = "./mixkit.wav"; break;
                    default: console.log(AudioTrack.NOTHING);
                }
                sound.volume = properties.getSoundVolume();
                sound.play();
            }
            // menu about sound
            function changeSoundMenu() {
                var volume = document.getElementById("sound-menu-id");
                volume.classList.toggle("volume-show");
                playSound(AudioTrack.CLICK);
            }
            function changeMusicMenu() {
                var volume = document.getElementById("music-menu-id");
                volume.classList.toggle("volume-show");
                playSound(AudioTrack.CLICK);
            }

            // basic menu
            function changeMenuState() {
                var menu = document.getElementById("info-menu-id");
                menu.classList.toggle("info-menu-show");
                playSound(AudioTrack.CLICK);
            }
            function changeChatState() {
                var chat = document.getElementById("chat-menu-id");
                var closeBar = document.getElementById("chat-menu-close-id");
                var themeMenu = document.getElementById("themes-menu-id");

                chat.classList.toggle("chat-menu-show");
                closeBar.classList.toggle("chat-menu-bar-show");
                if (chat.classList.contains("chat-menu-show") == false)
                    themeMenu.classList.remove("themes-show");
                playSound(AudioTrack.CLICK);
            }
            function changeThemesMenuState() {
                var themes = document.getElementById("themes-menu-id");
                themes.classList.toggle("themes-show");
            }
        </script>
    </body>
</html>